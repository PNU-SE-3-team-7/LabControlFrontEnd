import {Component} from '@angular/core';
import {ActivatedRoute, Router} from "@angular/router";
import {Location} from "@angular/common";
import {FormBuilder, FormControl, FormGroup} from "@angular/forms";
import {AssignmentType, AutoType, GradeType, IAssignment} from "../../models/IAssignment";
import {ASSIGNMENT_TYPE_LABEL_INFO} from "../../components/labels/assignment-type-states";
import {CdkDragDrop, moveItemInArray} from "@angular/cdk/drag-drop";
import {CourseChildEventType, ICourseButtonDetails, ICourseChildEvents} from "../course/course.component";

interface CourseEditFormType {
  name: FormControl<string>,
  summary: FormControl<string>,
}

@Component({
  selector: 'app-course-edit',
  templateUrl: './course-edit.component.html',
  styleUrl: './course-edit.component.scss'
})
export class CourseEditComponent implements ICourseChildEvents {
  private courseId: string = "";
  protected assignments: IAssignment[] = [
    {
      id: '2',
      courseId: 'course2',
      parentId: 'parent2',
      title: 'Assignment 2',
      description: 'This is the second assignment',
      type: AssignmentType.TASK,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-10T14:30:00Z'),
      createdDate: new Date('2023-05-20T09:00:00Z'),
      dueDate: new Date('2023-06-20T23:59:59Z'),
      visibilityStart: new Date('2023-06-10T00:00:00Z'),
      visibilityEnd: new Date('2023-07-05T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.AUTO,
      maxGrade: 10,
      weight: 30,
      threshold: 80,
      sequence: 2
    },
    {
      id: '3',
      courseId: 'course3',
      parentId: 'parent3',
      title: 'Assignment 3',
      description: 'This is the third assignment',
      type: AssignmentType.MATERIAL,
      submissionEnabled: false,
      updatedDate: new Date('2023-06-15T16:00:00Z'),
      createdDate: new Date('2023-05-25T10:30:00Z'),
      dueDate: new Date('2023-07-01T23:59:59Z'),
      visibilityStart: new Date('2023-06-20T00:00:00Z'),
      visibilityEnd: new Date('2023-07-10T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 40,
      threshold: 75,
      sequence: 3
    },
    {
      id: '4',
      courseId: 'course4',
      parentId: 'parent4',
      title: 'Assignment 4',
      description: 'This is the fourth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-20T11:15:00Z'),
      createdDate: new Date('2023-05-30T14:45:00Z'),
      dueDate: new Date('2023-07-10T23:59:59Z'),
      visibilityStart: new Date('2023-06-25T00:00:00Z'),
      visibilityEnd: new Date('2023-07-20T23:59:59Z'),
      visibility: false,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.AUTO,
      maxGrade: 10,
      weight: 20,
      threshold: 60,
      sequence: 4
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    },
    {
      id: '5',
      courseId: 'course5',
      parentId: 'parent5',
      title: 'Assignment 5',
      description: 'This is the fifth assignment',
      type: AssignmentType.ASSIGNMENT,
      submissionEnabled: true,
      updatedDate: new Date('2023-06-25T09:30:00Z'),
      createdDate: new Date('2023-06-01T16:00:00Z'),
      dueDate: new Date('2023-07-15T23:59:59Z'),
      visibilityStart: new Date('2023-07-01T00:00:00Z'),
      visibilityEnd: new Date('2023-07-25T23:59:59Z'),
      visibility: true,
      gradeType: GradeType.CONTINUOUS,
      autoType: AutoType.MANUAL,
      maxGrade: 10,
      weight: 15,
      threshold: 65,
      sequence: 5
    }
  ];

  protected courseEditForm: FormGroup<CourseEditFormType> = new FormGroup<CourseEditFormType>(<CourseEditFormType>{
    name: new FormControl<string>(""),
    summary: new FormControl<string>(""),
  });

  constructor(
    private router: Router,
    private activatedRoute: ActivatedRoute,
    private location: Location,
    private fb: FormBuilder
  ) {
    this.courseEditForm = fb.group<CourseEditFormType>(<CourseEditFormType>{
      name: new FormControl<string>(""),
      summary: new FormControl<string>(""),
    })
  }

  getButtonsVisibility(): Partial<Record<CourseChildEventType, ICourseButtonDetails>> {
    return {
      SAVE: {
        visible: true,
        text: "Save",
      },
      DELETE: {
        visible: true,
        text: "Delete",
        ngClasses: ["cancel"]
      }
    }
  }

  onButtonClicked(type: CourseChildEventType): void {
    console.log(type)
  }

  ngOnInit(): void {
    this.activatedRoute.parent?.paramMap.subscribe(params => {
      this.courseId = params.get('courseId') || '';
    });
  }

  protected goToAssignmentEdit(id: string): void {
    this.router.navigateByUrl(`/course/${this.courseId}/assignment/${id}`)
  }

  protected dropAssignment(event: CdkDragDrop<any>): void {
    moveItemInArray(
      this.assignments, event.previousIndex, event.currentIndex
    );

    for (let i = 0; i < this.assignments.length; ++i) {
      this.assignments[i].sequence = i + 1
    }
  }

  protected formatDate(date: Date): string {
    return date.toLocaleString('uk-UA', {
      timeZone: 'Europe/Kyiv',
      day: '2-digit',
      month: '2-digit',
      year: 'numeric',
      hour: '2-digit',
      minute: '2-digit'
    });
  }

  protected readonly ASSIGNMENT_TYPE_LABEL_INFO = ASSIGNMENT_TYPE_LABEL_INFO;
}
